<html>
    <head>

        <title>
            <%= title %>
        </title>

        <link rel="stylesheet" href="/css/home.css">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css" integrity="sha384-Bfad6CLCknfcloXFOyFnlgtENryhrpZCe29RTifKEixXQZ38WheV+i/6YWSzkz3V" crossorigin="anonymous"> 
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

    </head>
    
    <body>
          
           <main id="container">
           <!-- Heading -->

            <div id="header">
                <h2> TODO APP </h2>
            </div>
         <form method="POST" action="/create-task">
           <!-- description -->
           <div id="desc"> 
           <label for="desc-input">Description</label>
           <input type="text" id="desc-input" name="description" required>
           </div>

           <!-- category  and date picker -->
          <div id="category-date-container">
            <div id="category-box">
                <label for="category">Category</label>
                <select name="category" id="category">
                        <option value="personal">Personal</option>
                        <option value="work">Work</option>
                        <option value="school">School</option>
                        <option value="cleaning">Cleaning</option>
                        <option value="excercise">Excercise</option>
                </select>
            </div>

                <div id="date-picker">
                <label for="due-date">Due-Date</label>
                <input type="date" name="date" id="due-date" >
                </div>
            </div>

           <!-- add or delete task button -->

           <div id="add-del-container">
                   <!-- add tasks -->
                   <button type="submit" id="submit-btn">
                    <div id="btn-add">
                        <i class="fas fa-plus-circle"></i>
                         <span>ADD Task</span>
                    </div>

                  </button>

                    <!-- delete tasks -->
                   
                    <a href="/delete-task">
                     <div id="btn-del">
                        <i class="fas fa-trash-alt"></i>
                        <span>Delete Tasks</span>
                     </div>
                     </a>
                    

           </div>

        </form>





          
         
           </main>
           
           <!-- task display container -->

            <div id="tasks-container">
                  
                <% for(let task of tasks) {%>
             <form action="/check-task/<%= task._id %>" method="GET" >
                <div class="task" id="<%= task._id %>">

                       
                       <input type="checkbox" name="checkbox" onclick="this.form.submit();" class="checkbox" id="<%= task._id%>" <%= task.done %>> 
                     
                       
                         <div class="task-desc">

                            <span ><%= task.description %></span>
                            <span class="task-date-desc"><%= task.date %></span>
                         </div>
                       
                        <div class="task-category"><span><%= task.category%></span> </div>

                   
                   

                </div>
                </form>
                <%}%>

         </div>
      <script src="/js/home.js"></script>  
    </body>
</html>